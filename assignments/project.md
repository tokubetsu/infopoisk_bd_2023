# Финальный проект
## Общие правила
Защита: на зимней сессии, **26.12.2024, онлайн**
Код все еще сдаем в github classroom, но там будет проверяться только в случае вопросов на защите (но он должен быть!).

**GitHub Classroom**: [ссылка](https://classroom.github.com/a/lLCGRwL-)

## Про защиту
За временем следить будем жестко и с таймером. Всего будет 10 минут на человека.

- К защите придется готовиться: нужно сформировать план, который позволит вам за 6-7 минут показать соответствие проекта всем требуемым пунктам. Все нужные команды для запуска частей проекта, последовательность изложения и прочие вещи вам нужно продумать заранее и записать. И положить в репозиторий.
- Защита является обязательной для получения оценки за проект. Без защиты за проект ставится 0.

**Важно!**
Части проекта, не показанные на защите, не будут проверяться и оцениваться.

## Общая идея
Проект состоит из двух частей: поисковика и базы данных, плюс веб-интерфейс, как способ взаимодействовать с логикой проекта. Предварительно оценка будет ставится следующим образом (может поменяться): 
- 4 балла за поисковик
- 4 балла за базу данных
- 2 балла за использование тем из последней части курса 

Совет для выбора данных со стороны инфопоиска от Ники: 
> Должна быть осмысленная коллекция текстов не меньше тысячи штук, по которой можно выполнять поиск через запросы. Например, рецепты - это хороший выбор, а абзацы из книги "Война и мир" - скорее нет, так как не очень понятно, какого рода запросы и зачем к ним можно делать.

Совет со стороны баз данных от Янины: 
> На самом деле, база данных в плане контента может быть любая к этому проекту, главное, чтобы она была и подходила под ваш проект -- сайт с поиском. Дальше ваш полёт фантазии.
Возьму как пример сайт с рецептами. По тексту рецептов можно искать. При этом можно сделать такой сайт, чтобы вы могли регистрировать пользователей, а пользователи могли бы добавлять рецепты, писать посты и комментарии. Всё это можно хранить в БД. В идеальном мире за такие штуки отвечают отдельные CMS-системы (хотя они частенько внутри содержат sql-подобные движки), мы же делаем лайт-версию с нуля -- это делается ради того, чтобы вспомнили (или заново выучили), как работать с базами данных.
> База может быть только на чтение (контент сайта, например), на запись (регистрация пользователей, например) или и то, и другое (получится CMS).
Наверное, единственное ограничение -- это то, что ваша БД должна быть достаточно наполненной, чтобы смочь сделать на ней хотя бы один сложный аналитический запрос. Опять же на примере рецептов: на отдельной странице вывести топ пользователей сайта -- по написанным постам, лайкам, возможно даже придумать какой-то рейтинг для них.
> К сдаче проекта базу данных можно будет доработать, если меня или вас что-то в ней не устраивает.
 
## Критерии по инфопоиску
1. (0,5 балла) Есть корпус текстов, для него выполнена вся необходимая предобработка (и она соответствует выбранным методам векторизации!)
2. (1 балл) Реализовано два способа индексирования: статистический и на эмбеддингах
3. (1 балл) Реализован поиск: на входе текст запроса и вариант индекса, на выходе топ подходящих документов. Оценка релевантности - любая, которая кажется вам подходящей (может быть разной для разных индексов)
4. (0,5 балла) При выполнении поиска должно выводиться время, которое было затрачено на поиск (и оно должно быть в разумных пределах)
5. (1 балл) Обернуть логику работы в API: продумать, какие нужны endpoint'ы (адреса, по которым делаются запросы), описать модели данных с помощью `enum` и `pydantic`

## Критерии по БД
1. (1 балл) Есть логическая схема база данных. Указаны названия таблиц и атрибутов, связи и их виды, ограничения. Объяснено, какие данные она хранит. Какие решения по архитектуре использованы и почему.
2. (1 балл) Написан программный код на Python, который осуществляет подключение к базе данных с помощью коннектора выбранной СУБД.
3. (1 балл) Представлен код, который показывает, как добавляются, удаляются и обновляются данные в базе. Можно по-разному: как с помощью отдельного скрипта (непосредственно перед началом работы с сайтом), или с помощью логики сайта (пользовательский контент), если таковая предусмотрена в вашем случае и т.д.
4. (1 балл) Реализованы простой (выбор, фильтрация) и сложный (группировки+агрегации, оконные функции) запросы к базе данных. Например, дополнительный поиск по названию документа или по его характеристикам и статистика по документам.

## Темы из последней части курса 
1. (1 балл) Часть информационного поиска (можно что-то одно):
    - Рекомендательная система
    - RAG
2. (1 балл) Часть баз данных (можно что-то одно):
    - Поиск по векторам `pgvector`
    - ElasticSearch
    - Chroma

## Общие технчиеские требования (баллы будут сниматься за нарушение следующих пунктов)
1. Оформить документацию в ридми: прописать строение кода, как использовать, какие есть параметры у команды для запуска, схема БД и т.д.
2. Ваш код должен соотвествовать следующим критериям:
    - PEP8 и комментарии (для возможности оценки 10 - еще тайпинги и докстринги)
    - Осмысленные имена переменных, функций, классов, модулей
    - Разделение на модули (разные файлы для разных больших блоков логики)
    - Разделение на классы/функции
    - Одна очевидная для пользователя точка входа у каждой логической части и проекта в целом
3. Реализовать веб интерфейс. Этот пункт не исключает CLI: проект должно быть возможно запустить и из командной строки тоже. У сайта должны быть следующие компоненты:
      - Главная страница с описание и кнопкой-ссылкой на поиск
      - Страница поиска с выбором параметров
      - Страница с результатами поиска, где есть список текстов и время поиска (опционально - оценка близости)
      - Если выбранный формат БД подразумевает какие-то еще страницы (регистрация/вход, статистика и т.д.), то они тоже
4. Оберните проект в докер:
      - Три контейнера: база + фронт + бэк, общаются через API, поднимаются через docker-compose (опционально)
      - При запуске проекта по умолчанию запускается сайт со всей логикой
